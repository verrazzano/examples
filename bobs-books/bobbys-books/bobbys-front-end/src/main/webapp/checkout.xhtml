<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Copyright (c) 2020, 2022 Oracle and/or its affiliates. -->
<!-- Licensed under the Universal Permissive License v 1.0 as shown at https://oss.oracle.com/licenses/upl. -->
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">

<f:metadata>
    <f:viewParam name="bookId" value="#{bookBean.bookId}"/>
    <f:viewAction action="#{bookBean.find}"/>
</f:metadata>

<ui:composition template="template.xhtml">
	<ui:define name="header" />

	<ui:define name="body">

        <p>&nbsp;</p>

        <p>&nbsp;</p>
        <div class="oj-flex">
            <div class="oj-flex-item oj-sm-4"> 
                	 <h4>Your cart</h4>
	                 <ui:repeat value="#{cartBean.books}" var="value">
		                 <div class="oj-flex oj-flex-items-pad">
		                     <div class="oj-flex-item oj-sm-4">
		                         <h:link outcome="book-detail">
		                             <f:param name="bookId" value="#{value.bookId}"/>
		                             <h:graphicImage value="#{value.imageUrl}"></h:graphicImage>
		                         </h:link>
		                     </div>
		                       <div class="oj-flex-item oj-sm-4">
		                           <h5>
		                               <h:outputText value="#{value.title}"></h:outputText>
		                           </h5>
		                           <h:outputText value="#{value.authors}"></h:outputText>
		                       </div>
		                 </div>  
	                 </ui:repeat>
                </div>  
                <div class="oj-flex-item oj-sm-4 oj-form oj-form-cols">
                    <h:form id="order">
                        <p>Order these books</p>
						<h:messages globalOnly="true" />
                        <label class="oj-label oj-component oj-complete oj-inputtext-label">Your Name</label>
                        <h:inputText id="name" value="#{cartBean.name}" required="true"
                                     requiredMessage="Please enter your Name!" size="20" styleClass="oj-inputtext oj-form-control oj-component oj-text-field oj-complete"/>
                        <label class="oj-label oj-component oj-complete oj-inputtext-label"><h:message for="name" errorClass="alert-error" infoClass="alert-info"></h:message></label>

                        <label class="oj-label oj-component oj-complete oj-inputtext-label">Your Street</label>
                        <h:inputText id="street" value="#{cartBean.street}" required="true"
                                     requiredMessage="Please enter your Street!" size="40" styleClass="oj-inputtext oj-form-control oj-component oj-text-field oj-complete"/>
                        <label class="oj-label oj-component oj-complete oj-inputtext-label"><h:message for="street" errorClass="alert-error" infoClass="alert-info"></h:message></label>
    

                        <label class="oj-label oj-component oj-complete oj-inputtext-label">Your City</label>
                        <h:inputText id="city" value="#{cartBean.city}" required="true"
                                     requiredMessage="Please enter your City!" size="20" styleClass="oj-inputtext oj-form-control oj-component oj-text-field oj-complete"/>
                        <label class="oj-label oj-component oj-complete oj-inputtext-label"><h:message for="city" errorClass="alert-error" infoClass="alert-info"></h:message></label>

                        <label class="oj-label oj-component oj-complete oj-inputtext-label">Your State</label>
                        <h:inputText id="state" value="#{cartBean.state}" required="true"
                                     requiredMessage="Please enter your State!" size="20" styleClass="oj-inputtext oj-form-control oj-component oj-text-field oj-complete"/>
                        <label class="oj-label oj-component oj-complete oj-inputtext-label"><h:message for="state" errorClass="alert-error" infoClass="alert-info"></h:message></label>

                        <span><h:commandButton id="order" value="Submit Order" styleClass="btn-order oj-button-button oj-component-initnode"
                                               action="#{orderBean.order}"></h:commandButton></span>
                    </h:form>
                </div>
            </div>
    </ui:define>

    <p>&nbsp;</p>
    <ui:define name="footer">&copy;</ui:define>
</ui:composition>
</html>

